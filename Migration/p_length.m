function [leng, dists] = p_length(trajectory)% Calculates path length of trajectory% Trajectory should be a n by 2 matrix with x values in the first column% if size(trajectory,2) ~= 2% 	disp('The trajectory must have data in columns!')% 	return% endx = trajectory(:,1);y = trajectory(:,2);sh_x = shift(x,2);sh_y = shift(y,2);x(end) = [];y(end) = [];sh_x(end)=[];sh_y(end) = [];x_diff = x - sh_x;y_diff = y - sh_y;x2 = x_diff.^2;y2 = y_diff.^2;dists = sqrt(x2+y2);leng = sum(dists);return